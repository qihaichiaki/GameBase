## 场景模块

### 前言
* 场景是游戏对象附加入游戏框架中的基础. 游戏对象的行为一切都是建立在场景上, 游戏框架统一调用场景从而触发里面游戏对象的行为
* 渲染是通过场景中的摄像机完成的, 摄像机可以添加多个到场景里, 用于多视角管理

### 默认行为
* Scene在创建的时, 会默认在当前场景创建一个"main"的主相机(主相机的设置均为默认行为)

### 继承自Scene
* OnAwake: 注册到SceneManage时会调用一次, 建议初始化场景的(比如: 注册到场景内的游戏对象等均可加入到此函数内使用)

### 场景切换
* 所有注册到场景管理器中的场景, 可以来回之间进行随意切换, 每次切换后, 在gameaf中更新的就是对应场景下的所有游戏对象
* 切换场景存在过渡: 淡入淡出, 由当前画面->全黑, 全黑->下一个场景画面
* 存在异步加载场景: 异步加载内容(一个函数) + 加载时场景 + 加载完毕下个场景

### 场景调用图
1. 场景注册
2. 设置默认场景
   - 判断当前游戏阶段是否是初始场景阶段(如果不是即存在当前场景则返回)
   - 调用默认场景的OnAwake方法
   - 调用默认场景的OnEnter方法
   - 如果是启用了过渡, 则进度淡入模式(从1.0 -> 0.0)
3. 切换场景
   - 调用当前场景的OnExit方法
   - 如果下一个场景是未Awake的，则调用OnAwake方法, 更新Awake状态
   - 如果未启用过渡, 则调用下一个场景的OnEnter方法
   - 如果启用过渡, 则进入淡出模式(从0.0->1.0)，待后续更新到1.0后，更新中进入淡入模式(更新过程中调用下个场景的OnEnter, 并且将上一个场景(调用Exit)切换到当前场景)
4. 异步加载场景
   - 异步加载内容(I/O相关, 并且不能存在影响到主线程的(当前版本存在音频+加载场景内资源(字体/IO)))
   - 加载场景(异步执行过程中, 场景的更新是加载场景)
   - 下一个场景(异步内容执行完后切换的场景)